@using OpenOrderSystem.Areas.Configuration.ViewModels.InitialSetup
@model ConfirmEmailVM
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="d-flex flex-column">
    <div class="flex-grow-1">
        <div class="mb-4 text-center fw-bold text-uppercase w-50 mx-auto">
            <div class="h5">Step 2: Confirm your email address</div>
            <div class="progress">
                <div class="progress-bar progress-bar-striped bg-info progress-bar-animated"
                     role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"
                     style="width: 40%"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-7">
                <h3 class="text-uppercase text-warning text-center">Notice:</h3>
                <p class="text-justify px-2">Please check your email and enter the code sent to you to continue the setup process.</p>
            </div>
            <div class="col-md-5 rounded rounded-3 p-md-4 text-uppercase bg-dark">
                <form id="confirmForm" class="" action="ConfirmEmail" method="post">
                    <div class="text-danger" asp-validation-summary="ModelOnly"></div>
                    <h3 class="text-center text-white">Confirm Email</h3>
                    <hr />
                    <div class="form-floating mb-2">
                        <input class="form-control" asp-for="ConfirmationCode" placeholder="Confirmation Code" />
                        <label asp-for="ConfirmationCode"></label>
                        <span class="text-danger" asp-validation-for="ConfirmationCode"></span>
                    </div>

                    <input asp-for="UserId" hidden readonly />
                </form>
            </div>
        </div>
        <div class="text-end mt-4">
            <button id="nextBtn" class="btn btn-primary px-4 fw-bold">Next</button>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $('#nextBtn').on("click", () => {
            $('#confirmForm').submit();
        });
    </script>
}